<div class="container">
  <form class="mt-3 mb-5" novalidate #form="ngForm" (ngSubmit)="addTodo(form)">
    <div class="alert alert-danger" *ngIf="todoTitle.errors?.required && todoTitle.touched">Please enter title</div>
    <div class="alert alert-danger" *ngIf="addError">Task hasn't been added</div>
    <div class="alert alert-success" *ngIf="addSuccess">Task has been added successfully</div>
    <div class="form-group">
      <label>Title</label>
      <input
        type="text"
        class="form-control"
        [(ngModel)]="todo.title"
        name="title"
        #todoTitle="ngModel"
        required
      >
    </div>
    <button [disabled]="form.invalid" class="btn btn-primary">Add todo</button>
  </form>
  <div class="todo-list">
    <div class="card mb-3"
         *ngFor="let todo of todos"
         [ngClass]="{'bg-secondary': !todo.completed,
                     'bg-success': todo.completed
                     }"
    >
      <div class="card-body">
        <p class="card-text text-white">{{ todo.title }}</p>
        <button class="btn btn-danger">Delete</button>
        <button class="btn btn-primary">Edit</button>
        <button class="btn btn-primary" (click)="todo.completed = !todo.completed; editTodo(todo);">{{ todo.completed ? 'Undone' : 'Done' }}</button>
      </div>
    </div>
  </div>
</div>
